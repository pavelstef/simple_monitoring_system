{% extends "sms_core/sms_base_nav.html" %}
{% load static %}

{% block title %}SMS: Device edit - {{ obj }}{% endblock %}

{% block content %}
    <div class="container">

        {% if request.user.is_staff %}

            <div>
                <h2>Device edit: </h2>
            </div>


            {% if success %}
                <div class="alert alert-success" role="alert">
                    The device has been edited successfully!
                </div>
            {% endif %}

            <form action="{{ obj.get_edit_url }}" method="post">

                {% csrf_token %}

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Device name:</label>
                        {{ form.name }}
                        <b>{{ form.name.errors }}</b>
                        <small class="form-text text-muted">
                            The device name must be 5-20 ASCII characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
                        </small>
                    </div>
                    <div class="form-group col-md-6">
                        <label>Device IP / FQDN:</label>
                        {{ form.ip_fqdn }}
                        <b>{{ form.ip_fqdn.errors }}</b>
                        <small class="form-text text-muted">
                            The IP / FQDN must be 5-20 ASCII characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label>Description:</label>
                    {{ form.description }}
                    <b>{{ form.description.errors }}</b>
                    <small class="form-text text-muted">
                        This field able to contains a description  up to 250 characters
                    </small>
                </div>
                <div class="form-group col-4" style="padding-left: 0px;">
                    <label>Check interval (minutes):</label>
                    {{ form.check_interval }}
                    <b>{{ form.check_interval.errors }}</b>
                </div>

                <div class="col-4 offset-md-8">
                    <a type="button" class="btn btn-danger" href="{{ obj.get_delete_url }}">Delete device</a>
                    <a type="button" class="btn btn-secondary" href="{% url 'url_devices_overview' %}">Cancel</a>
                    <button type="submit" class="btn btn-success">Save</button>
                </div>
            </form>

        {% endif %}

    </div>
{% endblock %}