{% extends "sms_core/sms_base_nav.html" %}
{% load static %}

{% block title %}SMS: Create user{% endblock %}

{% block content %}
    <div class="container">
        {% if request.user.is_staff %}

            <div>
                <h2>Creating new user:</h2>
            </div>

            {% if success %}
                <div class="alert alert-success" role="alert">
                    User created successfully!
                </div>
            {% endif %}

            <form action="{% url 'url_user_create' %}" method="post">

                <div class="form-group">

                    {% csrf_token %}

                    <label>Username:</label>
                    <b>{{ form.name.errors }}</b>
                    {{ form.name }}
                    <small class="form-text text-muted">
                        The username must be 3-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
                    </small>

                    <label>Password:</label>
                    <b>{{ form.password1.errors }}</b>
                    {{ form.password1 }}
                    <small class="form-text text-muted">
                        The password must be 3-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
                    </small>

                    <label>Confirm password:</label>
                    <b>{{ form.password2.errors }}</b>
                    {{ form.password2 }}
                    <small class="form-text text-muted">
                        The password must be 3-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
                    </small>

                </div>

                <div class="form-group col-4 ml-3" style="padding-left: 0px;">
                    <b>{{ form.is_staff.errors }}</b>
                    {{ form.is_staff }}
                    <label><b>Grant user administrator's permission?</b></label>
                </div>

                <div class="col-4 offset-md-10">
                    <a type="button" class="btn btn-secondary" href="{% url 'url_administration' %}">Cancel</a>
                    <button type="submit" class="btn btn-success">Create user</button>
                </div>

            </form>
        {% endif %}
    </div>

{% endblock %}